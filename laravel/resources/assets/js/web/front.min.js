(()=>{function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}!function(t,r,n){"use strict";if("undefined"!=typeof wpgdprcData){var o,c,a=function(e,t,n){var o=new Date;t=t||"",n=n||365,o.setTime(o.getTime()+24*n*60*60*1e3),r.cookie=e+"="+encodeURIComponent(t)+"; expires="+o.toGMTString()+"; path="+f},s=function(t){return Object.keys(t).map((function(r){var n=t[r];return"object"===e(n)&&(n=JSON.stringify(n)),r+"="+n})).join("&")},l=!1,i=wpgdprcData.ajaxURL,d=wpgdprcData.ajaxSecurity,p=wpgdprcData.isMultisite,u=wpgdprcData.blogId,f=wpgdprcData.path,g=void 0!==wpgdprcData.consents?wpgdprcData.consents:[],y=function e(t,r,n,o){var c=n.querySelector(".wpgdprc-message"),a=r.slice(0,1);if(a.length>0){var l=n.querySelector('tr[data-id="'+a[0]+'"]');l.classList.remove("wpgdprc-status--error"),l.classList.add("wpgdprc-status--processing"),c.setAttribute("style","display: none;"),c.classList.remove("wpgdprc-message--error"),c.innerHTML="",setTimeout((function(){var o=new XMLHttpRequest;t.data.value=a[0],o.open("POST",i),o.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),o.send(s(t)),o.addEventListener("load",(function(){if(o.response){var a=JSON.parse(o.response);l.classList.remove("wpgdprc-status--processing"),a.error?(l.classList.add("wpgdprc-status--error"),c.innerHTML=a.error,c.classList.add("wpgdprc-message--error"),c.removeAttribute("style")):(r.splice(0,1),l.querySelector('input[type="checkbox"]').remove(),l.classList.add("wpgdprc-status--removed"),e(t,r,n,500))}}))}),o||0)}},v=function(){var e=r.querySelectorAll(".wpgdprc-form--delete-request");e.length<1||e.forEach((function(e){var t=e.querySelector(".wpgdprc-select-all");e.addEventListener("submit",(function(e){e.preventDefault();var r=e.target,n=r.querySelectorAll(".wpgdprc-checkbox"),o={action:"wpgdprc_process_action",security:d,data:{type:"delete_request",token:wpgdprcData.token,settings:JSON.parse(r.dataset.wpgdprc)}};t.checked=!1,y(o,function(e){var t=[];return e.length&&e.forEach((function(e){var r=parseInt(e.value);e.checked&&r>0&&t.push(r)})),t}(n),r)})),null!==t&&t.addEventListener("change",(function(t){var r=t.target.checked;e.querySelectorAll(".wpgdprc-checkbox").forEach((function(e){e.checked=r}))}))}))};r.addEventListener("DOMContentLoaded",(function(){"object"===e(g)&&g.length>0&&(o=(p?u+"-wpgdprc-consent-":"wpgdprc-consent-")+wpgdprcData.consentVersion,c=function(e){if(e)for(var t=encodeURIComponent(e)+"=",n=r.cookie.split(";"),o=0;o<n.length;o++){for(var c=n[o];" "===c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(t))return decodeURIComponent(c.substring(t.length,c.length))}return null}(o),function(){if(null===c){var e=r.querySelector(".wpgdprc-consent-bar");if(null!==e){r.querySelector("body").prepend(e),e.style.display="block";var n=e.querySelector(".wpgdprc-consent-bar__button");null!==n&&n.addEventListener("click",(function(e){e.preventDefault(),a(o,"accept"),t.location.reload(!0)}))}}}(),function(){var e=r.querySelector("#wpgdprc-consent-modal");if(null!==e&&"undefined"!=typeof MicroModal){var n,c,s,l,i=r.querySelector("[data-micromodal-trigger=wpgdprc-consent-modal]");c=(n=e).querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),s=c[0],l=c[c.length-1],n.addEventListener("keydown",(function(e){("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?r.activeElement===s&&(l.focus(),e.preventDefault()):r.activeElement===l&&(s.focus(),e.preventDefault()))})),MicroModal.init({disableScroll:!0,disableFocus:!0,onShow:function(){i&&i.setAttribute("aria-expanded","true")},onClose:function(e){var t=e.querySelectorAll(".wpgdprc-consent-modal__description"),r=e.querySelectorAll(".wpgdprc-consent-modal__navigation > a"),n=e.querySelectorAll('input[type="checkbox"]');if(t.length>0)for(var o=0;o<t.length;o++)t[o].style.display=0===o?"block":"none";if(r.length>0)for(o=0;o<r.length;o++)r[o].classList.remove("wpgdprc-button--active");if(n.length>0)for(o=0;o<n.length;o++)n[o].checked=!1;i&&i.setAttribute("aria-expanded","false")}});var d=r.querySelector(".wpgdprc-consents-settings-link");null!==d&&d.addEventListener("click",(function(e){e.preventDefault(),MicroModal.show("wpgdprc-consent-modal")}));var p=e.querySelectorAll(".wpgdprc-consent-modal__navigation > a");if(p.length>0)for(var u=e.querySelectorAll(".wpgdprc-consent-modal__description"),f=0;f<p.length;f++)p[f].addEventListener("click",(function(t){t.preventDefault();var r=e.querySelector('.wpgdprc-consent-modal__description[data-target="'+this.dataset.target+'"]');if(null!==r){for(var n=0;n<p.length;n++)p[n].classList.remove("wpgdprc-button--active");for(this.classList.add("wpgdprc-button--active"),n=0;n<u.length;n++)u[n].style.display="none";r.style.display="block"}}));var g=e.querySelector(".wpgdprc-button--secondary");null!==g&&g.addEventListener("click",(function(r){r.preventDefault();var n=e.querySelectorAll('input[type="checkbox"]'),c=[];if(n.length>0){for(var s=0;s<n.length;s++){var l=n[s],i=l.value;!0!==l.checked||isNaN(i)||c.push(parseInt(i))}c.length>0?a(o,c):a(o,"decline")}else a(o,"accept");t.location.reload(!0)}))}}(),function(){if("undefined"!=typeof postscribe)for(var e=function(e){var t=function(e){var t;switch(e){case"head":t=r.head;break;case"body":if(null===(t=r.querySelector("#wpgdprc-consent-body"))){var n=r.createElement("div");n.id="wpgdprc-consent-body",r.body.prepend(n),t="#"+n.id}break;case"footer":t=r.body}return t}(e.placement);null!==t&&postscribe(t,e.content)},t=null!==c&&"accept"!==c?c.split(","):[],n=0;n<g.length;n++)if(g.hasOwnProperty(n)){var o=g[n];(t.indexOf(o.id)>=0||o.required||"accept"===c)&&e(o)}}()),function(){var e=r.querySelector(".wpgdprc-form--access-request");if(null!==e){var t=e.querySelector(".wpgdprc-message"),n=e.querySelector("#wpgdprc-form__email"),o=e.querySelector("#wpgdprc-form__consent");e.addEventListener("submit",(function(r){if(r.preventDefault(),!l){l=!0,t.style.display="none",t.classList.remove("wpgdprc-message--success","wpgdprc-message--error"),t.innerHTML="";var c={action:"wpgdprc_process_action",security:d,data:{type:"access_request",email:n.value,consent:o.checked}},a=new XMLHttpRequest;c=s(c),a.open("POST",i,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.send(c),a.addEventListener("load",(function(){if(a.response){var r=JSON.parse(a.response);r.message&&(e.reset(),n.blur(),t.innerHTML=r.message,t.classList.add("wpgdprc-message--success"),t.removeAttribute("style")),r.error&&(n.focus(),t.innerHTML=r.error,t.classList.add("wpgdprc-message--error"),t.removeAttribute("style"))}l=!1}))}}))}}(),v()}))}}(window,document)})();